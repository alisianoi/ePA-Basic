openapi: 3.0.1
info:
  title: I_Test_Driver_FdV
  description: REST Schnittstelle einer Test-App fuer das ePA-Modul FdV
  version: 3.0.0
  contact:
    name: gematik GmbH
    email: software-development@gematik.de
    url: 'https://www.gematik.de'
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0'
servers:
  - url: '{protocol}://{host}:{port}/{api}'
    variables:
      protocol:
        enum:
          - http
          - https
        default: https
      host:
        default: 'localhost'
      port:
        default: '443'
      api:
        default: 'fdv-testdriver'
tags:
  - name: login/logout
    description: login / logout von einem Nutzer auf ein Aktenkonto
paths:
  /login:
    post:
      tags:
        - login/logout
      summary: Login Aktensession
      description: 'Diese Operation führt ein explizites Login auf ein Aktenkonto mit einem Nutzer aus. Sind keine Account Informationen enthalten, soll der per Default hinterlegte Nutzer sich auf sein eigenes Aktenkonto einloggen.'
      operationId: login_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginRequestDTO"
      responses:
        default:
          description: "Gibt im Erfolgsfall den Nutzer und das Aktenkonto zurück auf der Nutzer erfolgreich einloggt werden konnte."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoginResponseDTO"
  /logout:
    post:
      tags:
        - login/logout
      summary: Logout Aktensession
      description: Diese Operation führt ein Logout für eine mit insurantId identifizierte Aktensession aus.
      operationId: logout_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseDTO'
  /storeDocuments:
    post:
      tags:
        - 'documents, folders, submissionsets, associations'
      summary: Dokumente in ein Aktenkonto laden
      description: Diese Operation führt den Anwendungsfall "Dokumente einstellen" in einer mit insurantId identifizierten Aktensession aus.
      operationId: storeDocuments_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StoreDocumentRequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseDTO'
  /findObjects:
    post:
      tags:
        - 'documents, folders, submissionsets, associations'
      summary: 'Dokumente, Ordner, Submission Sets und/oder Verknüpfungen in einem Aktenkonto finden'
      description: 'Diese Operation führt den Anwendungsfall "Dokumente / Ordner suchen" in einer mit insurantId identifizierten Aktensession aus. Die Parameter returnType (Werte sind „LeafClass“ oder „ObjectRef“), startIndex und maxResults werden zum Gruppieren der Ergebnisse für das Blättern verwendet. Die für die Suchoperation zu verwendende Stored Query wird durch den Parameter vorgegeben. Falls dieser nicht angegeben ist, muss eine geeignete Stored Query gewählt werden. Wenn die Suchparameter ein SubmissionSet adressieren, dann soll der Response die Metadaten der im SubmissionSet enthaltenen Dokumente (unter Beachtung ggf. zusätzlich angegebenener Suchkriterien zu Dokumenten) beinhalten. Die Response enthält Metadaten zu Dokumenten aber nicht die Dokumente selbst.'
      operationId: findObjects_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FindObjectsRequestDTO'
            examples:
              example-1:
                value:
                  account:
                    account: stringstri
                    insurantId: stringstri
                    pkcs12: ''
                    passwordPrivateKey: string
                    passwordKeyStore: string
                    pin: 0
                    can: string
                    token: string
                  queryMetadata:
                    XDSSubmissionSetEntryUUID:
                      - string
                    XDSSubmissionSetUniqueId:
                      - string
                    XDSSubmissionSetSubmissionTimeFrom: '2017-07-21T17:32:28Z'
                    XDSSubmissionSetSubmissionTimeTo: '2017-07-21T17:32:28Z'
                    XDSDocumentEntryEntryUUID:
                      - string
                    XDSDocumentEntryUniqueId:
                      - string
                    XDSDocumentEntryClassCode:
                      - string
                    XDSDocumentEntryPracticeSettingCode:
                      - string
                    XDSDocumentEntryCreationTimeFrom: '2017-07-21T17:32:28Z'
                    XDSDocumentEntryCreationTimeTo: '2017-07-21T17:32:28Z'
                    XDSDocumentEntryServiceStartTimeFrom: '2017-07-21T17:32:28Z'
                    XDSDocumentEntryServiceStartTimeTo: '2017-07-21T17:32:28Z'
                    XDSDocumentEntryServiceStopTimeFrom: '2017-07-21T17:32:28Z'
                    XDSDocumentEntryServiceStopTimeTo: '2017-07-21T17:32:28Z'
                    XDSDocumentEntryHealthcareFacilityTypeCode:
                      - string
                    XDSDocumentEntryEventCodeList:
                      - string
                    XDSDocumentEntryConfidentialityCode:
                      - string
                    XDSDocumentEntryAuthorPerson:
                      - string
                    XDSDocumentEntryFormatCode:
                      - string
                    XDSDocumentEntryTypeCode:
                      - string
                    XDSDocumentEntryTitle:
                      - string
                    XDSDocumentEntryAuthorInstitution:
                      - string
                    XDSDocumentEntryStatus: string
                    XDSFolderUniqueId: string
                    XDSFolderStatus: string
                    XDSFolderCodeList:
                      - string
                    XDSFolderLastUpdateTimeFrom: '2017-07-21T17:32:28Z'
                    XDSFolderLastUpdateTimeTo: '2017-07-21T17:32:28Z'
                    XDSFolderEntryUUID: string
                  query: FindDocuments
                  returnType: LeafClass
        description: ''
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindObjectsResponseDTO'
              examples:
                example-1:
                  value:
                    success: true
                    statusMessage: string
                    registryObjectLists:
                      submissionSetsMetadata:
                        - author:
                            identifier: '165746304'
                            familyName: Weber
                            givenName: Thilo
                            otherName: string
                            nameAffix: string
                            title: Dr.
                            authorInstitution:
                              - name: string
                                identifier: string
                            authorRole:
                              - string
                            authorSpecialty:
                              - string
                            authorTelecommunication:
                              - string
                          comments: string
                          contentTypeCode: string
                          submissionTime: '2017-07-21T17:32:28Z'
                          entryUUID: string
                          uniqueId: string
                      documentsMetadata:
                        - author:
                            - identifier: '165746304'
                              familyName: Weber
                              givenName: Thilo
                              otherName: string
                              nameAffix: string
                              title: Dr.
                              authorInstitution:
                                - name: string
                                  identifier: string
                              authorRole:
                                - string
                              authorSpecialty:
                                - string
                              authorTelecommunication:
                                - string
                          availabilityStatus: string
                          confidentialityCode:
                            - string
                          classCode: string
                          comments: string
                          creationTime: '2017-07-21T17:32:28Z'
                          entryUUID: string
                          eventCodeList:
                            - string
                          formatCode: string
                          hash: string
                          healthcareFacilityTypeCode: string
                          languageCode: string
                          legalAuthenticator: string
                          mimeType: application/pdf
                          practiceSettingCode: string
                          referenceIdList:
                            - string
                          serviceStartTime: '2017-07-21T17:32:28Z'
                          serviceStopTime: '2017-07-21T17:32:28Z'
                          size: 0
                          title: string
                          typeCode: string
                          uniqueId: string
                          uri: string
                      foldersMetadata:
                        - comments: string
                          codeList:
                            - string
                          lastUpdateTime: '2017-07-21T17:32:28Z'
                          title: string
                          uniqueId: string
                          entryUUID: Folder-1
                          availabilityStatus: 'urn:oasis:names:tc:ebxml-regrep:StatusType:Approved, Approved'
                      associations:
                        - id: 'urn:uuid:7804b22f-7400-4fd7-a4de-d6a5cdd8352d'
                          associationType: HasMember
                          sourceObject: 'urn:uuid:32ec5972-a5a3-4dab-8322-e46c56656d70'
                          targetObject: 'urn:uuid:3277f905-6550-4160-bd3b-c8e4fdc70611'
  /retrieveDocuments:
    post:
      tags:
        - 'documents, folders, submissionsets, associations'
      summary: Dokumente aus Aktenkonto herunterladen
      description: Diese Operation führt den Anwendungsfall "Dokumente herunterladen" in einer mit insurantId identifizierten Aktensession aus. Lädt die Dokumente mit den im Request angegebenen Ids aus dem Aktenkonto. Die Ids werden mittels findDocuments ermittelt.
      operationId: retrieveDocuments_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DocumentsRequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetrieveDocumentsResponseDTO'
  /deleteObjects:
    post:
      tags:
        - 'documents, folders, submissionsets, associations'
      summary: 'Dokumente, Ordner aus dem Aktenkonto löschen'
      description: 'Diese Operation führt den Anwendungsfall "Dokumente löschen" in einer mit insurantId identifizierten Aktensession aus. löscht die Dokumente, Ordner oder  mit dem im Request angegebenen Ids aus dem Aktenkonto. Die Ids werden mittels findDocuments ermittelt.'
      operationId: deleteObjects_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ObjectRequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseDTO'
  /findHcpos:
    post:
      tags:
        - directory
      summary: Suche nach Leistungserbringerinstitutionen im Verzeichnisdienst
      description: Diese Operation führt eine Suchanfrage für Leistungserbringerinstitutionen im Verzeichnisdienst der TI in einer mit insurantId identifizierten Aktensession aus.
      operationId: findHcpos_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FindDirectoryRequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindDirectoryResponseDTO'
  /findInsurances:
    post:
      tags:
        - directory
      summary: Suche nach Kostenträgern im Verzeichnisdienst
      description: Diese Operation führt eine Suchanfrage für Kostenträger im Verzeichnisdienst der TI in einer mit insurantId identifizierten Aktensession aus.
      operationId: findInsurances_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FindDirectoryRequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindDirectoryResponseDTO'
  /protocol:
    post:
      tags:
        - protocol
      summary: Zugriffsprotokolle lesen
      description: Diese Operation führt den Anwendungsfall "Zugriffsprotokoll einsehen" in einer mit insurantId identifizierten Aktensession aus. Die vom Aktensystem gelieferten Protokolleinträge werden aufgearbeitet und zurückgegeben. Liefert alle Einträge aus dem §291a und Verwaltungsprotokoll für das Aktenkonto.
      operationId: getProtocol_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProtocolResponseDTO'
  /productinformation:
    post:
      summary: Gibt die Informationen zur Produktinformation zurück
      description: Die Operation liefert eine Liste mit den Werten der Produktinformation.
      operationId: getProductInformation_1
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseProductInformationDTO'
  /updateMetadata:
    post:
      tags:
        - 'documents, folders, submissionsets, associations'
      summary: 'Aktualisierung der Informationen zu einem Dokument, Ordner des Nutzers oder einer Verknüpfung'
      description: Diese Operation führt den Anwendungsfall "Änderung der Vertraulichkeit eines Dokumentes" in einer mit insurantId identifizierten Aktensession aus. Der Nutzer kann die ConfidentialityCode eines Dokumentes ändern.
      operationId: updateMetadata_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMetadataRequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseDTO'
  /replaceDocument:
    post:
      tags:
        - 'documents, folders, submissionsets, associations'
      summary: Ersetzen eines Dokuments
      description: Diese Operation führt den Anwendungsfall "Ersetzen eines Dokumentes" in einer mit insurantId identifizierten Aktensession aus.
      operationId: replaceDocument_1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReplaceDocumentRequestDTO'
      responses:
        default:
          description: default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseDTO'
components:
  schemas:
    ResponseDTO:
      type: object
      properties:
        success:
          type: boolean
        statusMessage:
          type: string
      required:
        - success
    LoginRequestDTO:
      type: object
      description: "Enthält optional Account Informationen mit denen der Login eines Nutzers auf ein Aktenkonto durchgeführt werden soll. "
      properties:
        account:
          $ref: "#/components/schemas/Account"
    LoginResponseDTO:
      type: object
      description: "Enthält im Erfolgsfall Informationen über den eingeloggten Nutzer und das verwendete Aktenkonto."
      properties:
        success:
          type: boolean
        statusMessage:
          type: string
        account:
          $ref: "#/components/schemas/Account"
      required:
        - success
    RequestDTO:
      type: object
      properties:
        pageSize:
          type: integer
          minimum: 1
        pageNumber:
          type: integer
          minimum: 1
        lastDay:
          type: string
          format: date
          example: '2021-07-01'
    DocumentsRequestDTO:
      type: object
      properties:
        documentUniqueIds:
          type: array
          description: Liste von UniqueIDs von DocumentEntries
          items:
            type: string
      required:
        - documentUniqueIds
      x-examples: {}
    ObjectDTO:
      type: object
      title: ObjectDTO
      properties:
        entryUUID:
          type: string
          description: EntryUUID eines Dokumentes
    ObjectRequestDTO:
      type: object
      properties:
        objects:
          type: array
          items:
            $ref: '#/components/schemas/ObjectDTO'
      required:
        - objects
    AuthorInstitution:
      type: object
      description: 'Institution, die dem Autor zugeordnet ist'
      properties:
        name:
          type: string
          description: Name der Leistungserbringerinstitution oder Name des Kostenträgers
        identifier:
          type: string
          description: Institutionskennzeichen der Leistungserbringerinstitution oder Betriebsnummer des Kostenträgers
    Author:
      type: object
      description: Inhalte für Metadaten für author; entspricht für ein DocumentEntry dem Autor; entspricht für ein Submission Set der einstellenden Person oder einstellendem System
      properties:
        identifier:
          type: string
          description: 'authorPerson, für Leistungserbringer Lebenslange Identifikationsnummer eines Arztes, für Versicherte Versicherten-ID (unveränderliche Teil der KVNR)'
          example: '165746304'
        familyName:
          type: string
          description: 'authorPerson, Nachname'
          example: Weber
        givenName:
          type: string
          description: 'authorPerson, Vorname'
          example: Thilo
        otherName:
          type: string
          description: 'authorPerson, weiterer Vorname'
        nameAffix:
          type: string
          description: 'authorPerson, Nameszusatz'
        title:
          type: string
          description: 'authorPerson, Titel'
          example: Dr.
        authorInstitution:
          type: array
          items:
            $ref: '#/components/schemas/AuthorInstitution'
        authorRole:
          type: array
          items:
            type: string
            description: 'Rolle des Autors; ein Code der in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.authorRole. Da hier mehrere Value Sets verwendet werden können, SOLL an dieser Stelle ein Coded String gesetzt werden, bei dem die OID des ValueSets (1.3.6.1.4.1.19376.3.276.1.5.14 oder 1.3.6.1.4.1.19376.3.276.1.5.13) mit angegeben werden muss. Der Coded String muss dem Format von [IHE-ITI-TF Vol3], Kap. 4.2.3.1.7 entsprechen: Code^^^&CodeSystemID&ISO. Vgl. auch ebd. Kap. 4.2.3.1.4.3'
        authorSpecialty:
          type: array
          items:
            type: string
            description: 'Fachliche Spezialisierung des Autors; ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.authorSpecialty oder aus der Tabelle in der Anforderung A_15744-XX'
        authorTelecommunication:
          type: array
          items:
            type: string
            description: Telekommunikationsdaten des Autors
    SubmissionSetMetadata:
      type: object
      description: Inhalte für Metadaten für ein SubmissionSet
      x-examples:
        example-1:
          author:
            identifier: '165746304'
            familyName: Weber
            givenName: Thilo
            otherName: string
            nameAffix: string
            title: Dr.
            authorInstitution:
              - name: string
                identifier: string
            authorRole:
              - string
            authorSpecialty:
              - string
            authorTelecommunication:
              - string
          comments: string
          contentTypeCode: string
          submissionTime: '2017-07-21T17:32:28Z'
          entryUUID: string
          uniqueId: string
      properties:
        author:
          $ref: '#/components/schemas/Author'
        comments:
          type: string
          description: Ergänzende Hinweise zum Submission Set in Freitext
        contentTypeCode:
          type: string
        submissionTime:
          type: string
          format: date-time
          description: 'date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        entryUUID:
          type: string
          description: 'Eindeutige Kennung des Submission Sets, intern'
        uniqueId:
          type: string
          description: 'Eindeutige Kennung des Submission Sets, extern'
      title: ''
    DocumentWithMetadata:
      type: object
      properties:
        metadata:
          $ref: '#/components/schemas/DocumentMetadata'
        document:
          $ref: '#/components/schemas/Document'
        folder_reference:
          $ref: '#/components/schemas/FolderReference'
      required:
        - metadata
        - document
      x-examples: {}
    Document:
      type: object
      properties:
        document:
          type: string
          format: byte
          description: Dokument (Base64 kodiert)
      required:
        - document
    DocumentMetadata:
      type: object
      description: Metadaten zu einem Dokument
      properties:
        author:
          type: array
          items:
            $ref: '#/components/schemas/Author'
        availabilityStatus:
          type: string
          description: Status eines Dokumentes
        confidentialityCode:
          type: array
          items:
            type: string
            description: 'Vertraulichkeitskennzeichnung des Dokuments; N, R oder V des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.confidentialityCode'
        classCode:
          type: string
          description: 'Grobe Klassifizierung des Dokuments, einem Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.classCode'
        comments:
          type: string
          description: Ergänzende Hinweise in Freitext
        creationTime:
          type: string
          format: date-time
          description: 'Erstellungszeitpunkt des Dokuments; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        entryUUID:
          type: string
          description: EntryUUID eines Dokumentes
        eventCodeList:
          type: array
          description: 'Ereignisse, die zur Erstellung des Dokuments geführt haben; ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.eventCodeList oder aus der Tabelle in A_17540-XX'
          items:
            type: string
        formatCode:
          type: string
          description: 'Global eindeutiger Code für das Dokumentenformat; ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.formatCode oder aus der Tabelle in A_14761-XX'
        hash:
          type: string
        healthcareFacilityTypeCode:
          type: string
          description: 'Art der Einrichtung, in der das dokumentierte Ereignis stattgefunden hat.; ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.healthcareFacilityTypeCode'
        languageCode:
          type: string
          description: 'Sprache, in der das Dokument abgefasst ist; ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.languageCode'
        legalAuthenticator:
          type: string
          description: Rechtlich Verantwortlicher für das Dokument
        mimeType:
          type: string
          enum:
            - application/pdf
            - image/jpeg
            - image/png
            - image/tiff
            - text/plain
            - text/rtf
            - application/xml
            - application/hl7-v3
            - application/pkcs7-mime
            - application/fhir+xml
            - application/xacml+xml
          description: MIME-Type des Dokuments
        practiceSettingCode:
          type: string
          description: 'Art der Fachrichtung der erstellenden Einrichtung, in der das dokumentiere Ereignis stattgefunden hat.; ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.practiceSettingCode oder aus der Tabelle in A_16944-XX'
        referenceIdList:
          type: array
          description: 'Liste von IDs, mit denen das Dokument assoziiert wird'
          items:
            type: string
        serviceStartTime:
          type: string
          format: date-time
          description: 'Zeitpunkt, an dem das im Dokument dokumentierte (Behandlungs-)Ereignis begonnen wurde.; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        serviceStopTime:
          type: string
          format: date-time
          description: 'Zeitpunkt, an dem das im Dokument dokumentierte (Behandlungs-)Ereignis beendet wurde.; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        size:
          type: integer
          description: Grösse des Dokuments in Bytes
        title:
          type: string
          description: Titel des Dokuments
        typeCode:
          type: string
          description: 'Art des Dokumentes; ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.typeCode'
        uniqueId:
          type: string
          description: 'Eindeutige, aktenweite Kennung des Dokuments'
        uri:
          type: string
          description: Dateiname
      x-examples:
        example-1:
          author:
            - identifier: '165746304'
              familyName: Weber
              givenName: Thilo
              otherName: string
              nameAffix: string
              title: Dr.
              authorInstitution:
                - name: string
                  identifier: string
              authorRole:
                - string
              authorSpecialty:
                - string
              authorTelecommunication:
                - string
          availabilityStatus: string
          confidentialityCode:
            - string
          classCode: string
          comments: string
          creationTime: '2017-07-21T17:32:28Z'
          entryUUID: 'urn:uuid:3277f905-6550-4160-bd3b-c8e4fdc70611'
          eventCodeList:
            - string
          formatCode: string
          hash: string
          healthcareFacilityTypeCode: string
          languageCode: string
          legalAuthenticator: string
          mimeType: application/pdf
          practiceSettingCode: string
          referenceIdList:
            - string
          serviceStartTime: '2017-07-21T17:32:28Z'
          serviceStopTime: '2017-07-21T17:32:28Z'
          size: 0
          title: string
          typeCode: string
          uniqueId: string
          uri: string
    FolderReference:
      type: object
      description: Metadaten um einem bestehenden Ordner zu referenzieren
      title: FolderReference
      properties:
        entryUUID:
          type: string
          description: Eindeutige Kennung des Ordner
      required:
        - entryUUID
      x-examples:
        Beispiel Folder:
          value:
            entryUUID: Folder-1234567890
    FolderMetadata:
      type: object
      description: Metadaten zu einem Ordner
      x-examples:
        childsrecord Folder Beispiel:
          value:
            comments: Ein Dokument als childsrecord Beispiel
            codeList:
              - ('childsrecord^^1.2.276.0.76.5.512')
            lastUpdateTime: '2017-07-21T17:32:28Z'
            title: Erika Mustermann
            uniqueId: f9802a8d5a8d4cb0b1b38610305e12f4
            entryUUID: Folder-ea72d10d90
            status: 'urn:oasis:names:tc:ebxml-regrep:StatusType:Approved'
        patientdoc Folder Beispiel:
          value:
            comments: Patient Document Folder
            codeList:
              - ('childsrecord^^1.2.276.0.76.5.512')
            lastUpdateTime: '2021-01-01T17:32:28Z'
            title: vom Versicherten eingestellte Dokumente
            uniqueId: f9802a8d5a8d4cb0b1b38610305e12f4
            entryUUID: Folder-fa72d10d91
            status: Approved
      title: ''
      properties:
        comments:
          type: string
          description: Ergänzende Hinweise in Freitext
        codeList:
          type: array
          description: 'Liste von Codes, die mit dem Ordner assoziiert werden.'
          items:
            type: string
        lastUpdateTime:
          type: string
          format: date-time
          description: 'Zeitstempel, an dem der Ordner das letzte mal geändert wurde; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        title:
          type: string
          description: Titel des Ornder
        uniqueId:
          type: string
          description: Eindeutige Kennung des Ordner (von Client erzeugt)
        entryUUID:
          type: string
          description: Eindeutige Kennung des Ordner in der Registry (von Aktensystem gesetzt)
          example: Folder-1
        availabilityStatus:
          type: string
          example: 'urn:oasis:names:tc:ebxml-regrep:StatusType:Approved, Approved'
          description: Status der Ordner
      required:
        - codeList
        - lastUpdateTime
        - title
        - uniqueId
        - entryUUID
        - availabilityStatus
    Association:
      type: object
      description: Association
      x-examples:
        example-1:
          id: string
          associationType: HasMember
          sourceObject: string
          targetObject: string
        example-2:
          id: 'urn:uuid:7804b22f-7400-4fd7-a4de-d6a5cdd8352d'
          associationType: 'urn:oasis:names:tc:ebxml-regrep:AssociationType:HasMember'
          sourceObject: 'urn:uuid:32ec5972-a5a3-4dab-8322-e46c56656d70'
          targetObject: 'urn:uuid:3277f905-6550-4160-bd3b-c8e4fdc70611'
      title: Association
      properties:
        id:
          type: string
          description: Eindeutige Kennung der Assoziation in der Registry
          example: 'urn:uuid:7804b22f-7400-4fd7-a4de-d6a5cdd8352d'
        associationType:
          type: string
          description: 'Association Type aus IHE_ITI_TF_Vol3.pdf, Tabelle 4.2.2-1. Angabe mit und ohne den urn:* Prefix valide. Siehe Beispiele '
          example: HasMember
        sourceObject:
          type: string
          description: Eindeutige Kennung des Quell-Objekts der Assoziation
          example: 'urn:uuid:32ec5972-a5a3-4dab-8322-e46c56656d70'
        targetObject:
          type: string
          description: Eindeutige Kennung des Ziel-Objekts der Assoziation
          example: 'urn:uuid:3277f905-6550-4160-bd3b-c8e4fdc70611'
    QueryMetadata:
      type: object
      description: 'Metadaten Parameter für die Suche nach Dokumenten, Ordner, Submission Sets und Verknüpfungen'
      properties:
        XDSSubmissionSetEntryUUID:
          type: array
          description: Liste von EntryUUIDs von SubmissionSets
          items:
            type: string
        XDSSubmissionSetUniqueId:
          type: array
          description: Liste von uniqueIDs von SubmissionSets
          items:
            type: string
        XDSSubmissionSetSubmissionTimeFrom:
          type: string
          format: date-time
          description: 'Beginn Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        XDSSubmissionSetSubmissionTimeTo:
          type: string
          format: date-time
          description: 'XDSDocumentEntryCreationTimeTo, Ende Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        XDSDocumentEntryEntryUUID:
          type: array
          description: Liste von EntryUUIDs von Dokumenten
          items:
            type: string
        XDSDocumentEntryUniqueId:
          type: array
          description: Liste von uniqueIds von Dokumenten
          items:
            type: string
        XDSDocumentEntryClassCode:
          type: array
          items:
            type: string
            description: XDSDocumentEntryClassCode
        XDSDocumentEntryPracticeSettingCode:
          type: array
          items:
            type: string
            description: XDSDocumentEntryPracticeSettingCode
        XDSDocumentEntryCreationTimeFrom:
          type: string
          format: date-time
          description: 'Beginn Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        XDSDocumentEntryCreationTimeTo:
          type: string
          format: date-time
          description: 'Ende Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        XDSDocumentEntryServiceStartTimeFrom:
          type: string
          format: date-time
          description: 'Zeitpunkt, an dem das im Dokument dokumentierte (Behandlungs-)Ereignis begonnen wurde. Beginn Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        XDSDocumentEntryServiceStartTimeTo:
          type: string
          format: date-time
          description: 'Zeitpunkt, an dem das im Dokument dokumentierte (Behandlungs-)Ereignis begonnen wurde. Ende Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        XDSDocumentEntryServiceStopTimeFrom:
          type: string
          format: date-time
          description: 'Zeitpunkt, an dem das im Dokument dokumentierte (Behandlungs-)Ereignis beendet wurde. Beginn Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        XDSDocumentEntryServiceStopTimeTo:
          type: string
          format: date-time
          description: 'Zeitpunkt, an dem das im Dokument dokumentierte (Behandlungs-)Ereignis beendet wurde. Ende Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6'
          example: '2017-07-21T17:32:28Z'
        XDSDocumentEntryHealthcareFacilityTypeCode:
          type: array
          items:
            type: string
            description: 'Art der Einrichtung, in der das dokumentierte Ereignis stattgefunden hat.;       ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.healthcareFacilityTypeCode'
        XDSDocumentEntryEventCodeList:
          type: array
          items:
            type: string
            description: 'Ereignisse, die zur Erstellung des Dokuments geführt haben.'
        XDSDocumentEntryConfidentialityCode:
          type: array
          items:
            type: string
            description: 'Vertraulichkeitskennzeichnung des Dokuments; N, R, oder V des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.confidentialityCode'
        XDSDocumentEntryAuthorPerson:
          type: array
          items:
            type: string
            description: Name des Autors
        XDSDocumentEntryFormatCode:
          type: array
          items:
            type: string
            description: 'Global eindeutiger Code für das Dokumentenformat; ein Code des in [IHE-ITI-VS] definierten Value Sets für DocumentEntry.formatCode oder aus der Tabelle in A_14761-XX'
        XDSDocumentEntryTypeCode:
          type: array
          items:
            type: string
            description: Art des Dokumentes
        XDSDocumentEntryTitle:
          type: array
          items:
            type: string
        XDSDocumentEntryAuthorInstitution:
          type: array
          items:
            type: string
            description: 'Institution, die dem Autor zugeordnet ist; nur anwendbar mit FindDocumentsByTitle'
        XDSDocumentEntryStatus:
          type: string
          description: Status des Dokumentes
        XDSFolderUniqueId:
          description: Folder Unique Id
          type: string
        XDSFolderStatus:
          type: string
          description: Status der Ordner; nur anwendbar mit FindFolders
        XDSFolderCodeList:
          type: array
          description: 'Liste von Codes (z.B. ''childrecord'', ''patientdoc'')'
          items:
            type: string
            description: Code eines Ordners; nur anwendbar mit FindFolders
        XDSFolderLastUpdateTimeFrom:
          type: string
          format: date-time
          description: 'Beginn Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6; nur anwendbar mit FindFolders'
          example: '2017-07-21T17:32:28Z'
        XDSFolderLastUpdateTimeTo:
          type: string
          format: date-time
          description: 'Ende Zeitraum für Suche; date-time notation as defined by RFC 3339, section 5.6; nur anwendbar mit FindFolders'
          example: '2017-07-21T17:32:28Z'
        XDSFolderEntryUUID:
          type: string
          description: Folder UUID
    RegistryObjectLists:
      type: object
      title: RegistryObjectLists
      x-examples:
        example-1:
          submissionSetsMetadata:
            - author:
                identifier: '165746304'
                familyName: Weber
                givenName: Thilo
                otherName: string
                nameAffix: string
                title: Dr.
                authorInstitution:
                  - name: string
                    identifier: string
                authorRole:
                  - string
                authorSpecialty:
                  - string
                authorTelecommunication:
                  - string
              comments: string
              contentTypeCode: string
              submissionTime: '2017-07-21T17:32:28Z'
              entryUUID: string
              uniqueId: string
          documentsMetadata:
            - author:
                - identifier: '165746304'
                  familyName: Weber
                  givenName: Thilo
                  otherName: string
                  nameAffix: string
                  title: Dr.
                  authorInstitution:
                    - name: string
                      identifier: string
                  authorRole:
                    - string
                  authorSpecialty:
                    - string
                  authorTelecommunication:
                    - string
              availabilityStatus: string
              confidentialityCode:
                - string
              classCode: string
              comments: string
              creationTime: '2017-07-21T17:32:28Z'
              entryUUID: string
              eventCodeList:
                - string
              formatCode: string
              hash: string
              healthcareFacilityTypeCode: string
              languageCode: string
              legalAuthenticator: string
              mimeType: application/pdf
              practiceSettingCode: string
              referenceIdList:
                - string
              serviceStartTime: '2017-07-21T17:32:28Z'
              serviceStopTime: '2017-07-21T17:32:28Z'
              size: 0
              title: string
              typeCode: string
              uniqueId: string
              uri: string
          foldersMetadata:
            - comments: string
              codeList:
                - string
              lastUpdateTime: '2017-07-21T17:32:28Z'
              title: string
              uniqueId: string
              entryUUID: Folder-1
              availabilityStatus: 'urn:oasis:names:tc:ebxml-regrep:StatusType:Approved, Approved'
          associations:
            - id: 'urn:uuid:7804b22f-7400-4fd7-a4de-d6a5cdd8352d'
              associationType: HasMember
              sourceObject: 'urn:uuid:32ec5972-a5a3-4dab-8322-e46c56656d70'
              targetObject: 'urn:uuid:3277f905-6550-4160-bd3b-c8e4fdc70611'
      properties:
        submissionSetsMetadata:
          type: array
          items:
            $ref: '#/components/schemas/SubmissionSetMetadata'
        documentsMetadata:
          type: array
          items:
            $ref: '#/components/schemas/DocumentMetadata'
        foldersMetadata:
          type: array
          items:
            $ref: '#/components/schemas/FolderMetadata'
        associations:
          type: array
          items:
            $ref: '#/components/schemas/Association'
    StoreDocumentRequestDTO:
      type: object
      properties:
        documentSets:
          type: array
          items:
            $ref: '#/components/schemas/DocumentWithMetadata'
      required:
        - documentSets
    RetrieveDocumentsResponseDTO:
      type: object
      properties:
        success:
          type: boolean
        statusMessage:
          type: string
        documents:
          type: array
          items:
            $ref: '#/components/schemas/Document'
      required:
        - success
    FindObjectsRequestDTO:
      type: object
      description: 'Die Parameter returnType (Werte sind "LeafClass" oder "ObjectRef"), startIndex und maxResults werden zum Gruppieren der Ergebnisse für das Blättern verwendet.'
      properties:
        queryMetadata:
          $ref: '#/components/schemas/QueryMetadata'
        query:
          type: string
          enum:
            - FindDocuments
            - FindDocumentsByTitle
            - FindDocumentsByReferenceId
            - FindSubmissionSets
            - FindFolders
            - GetAll
            - GetDocuments
            - GetSubmissionSets
            - GetSubmissionSetAndContents
            - GetFoldersForDocument
            - GetFolderAndContents
          description: 'optional; falls angegeben, ist die entsprechende Stored Query anzuwenden; falls nicht angegeben, ist eine entsprechend der Suchparameter geeignete Stored Query anzuwenden'
        returnType:
          type: string
          enum:
            - LeafClass
            - ObjectRef
          default: LeafClass
    FindObjectsResponseDTO:
      type: object
      title: ''
      properties:
        success:
          type: boolean
        statusMessage:
          type: string
        registryObjectLists:
          $ref: '#/components/schemas/RegistryObjectLists'
      required:
        - success
      x-examples:
        example-1:
          success: true
          statusMessage: string
          registryObjectLists:
            submissionSetMetadata:
              - author:
                  identifier: '165746304'
                  familyName: Weber
                  givenName: Thilo
                  otherName: string
                  nameAffix: string
                  title: Dr.
                  authorInstitution:
                    - name: string
                      identifier: string
                  authorRole:
                    - string
                  authorSpecialty:
                    - string
                  authorTelecommunication:
                    - string
                comments: string
                contentTypeCode: string
                submissionTime: '2017-07-21T17:32:28Z'
                entryUUID: string
                uniqueId: string
            documentsMetadata:
              - author:
                  - identifier: '165746304'
                    familyName: Weber
                    givenName: Thilo
                    otherName: string
                    nameAffix: string
                    title: Dr.
                    authorInstitution:
                      - name: string
                        identifier: string
                    authorRole:
                      - string
                    authorSpecialty:
                      - string
                    authorTelecommunication:
                      - string
                availabilityStatus: string
                confidentialityCode:
                  - string
                classCode: string
                comments: string
                creationTime: '2017-07-21T17:32:28Z'
                entryUUID: string
                eventCodeList:
                  - string
                formatCode: string
                hash: string
                healthcareFacilityTypeCode: string
                languageCode: string
                legalAuthenticator: string
                mimeType: application/pdf
                practiceSettingCode: string
                referenceIdList:
                  - string
                serviceStartTime: '2017-07-21T17:32:28Z'
                serviceStopTime: '2017-07-21T17:32:28Z'
                size: 0
                title: string
                typeCode: string
                uniqueId: string
                uri: string
            foldersMetadata:
              - comments: string
                codeList:
                  - string
                lastUpdateTime: '2017-07-21T17:32:28Z'
                title: string
                uniqueId: string
                entryUUID: Folder-1
                availabilityStatus: 'urn:oasis:names:tc:ebxml-regrep:StatusType:Approved, Approved'
            associations:
              - id: 'urn:uuid:7804b22f-7400-4fd7-a4de-d6a5cdd8352d'
                associationType: HasMember
                sourceObject: 'urn:uuid:32ec5972-a5a3-4dab-8322-e46c56656d70'
                targetObject: 'urn:uuid:3277f905-6550-4160-bd3b-c8e4fdc70611'
    DirectoryEntry:
      type: object
      properties:
        cn:
          type: string
          description: 'commonName, vollstaendiger Name'
        displayName:
          type: string
          description: Anzeigename
        streetAddress:
          type: string
          description: Strasse und Hausnummer
          example: Friedrichstrasse 136
        postalCode:
          type: string
          description: Postleitzahl
          example: '10117'
        localityName:
          type: string
          description: Ort
          example: Berlin
        stateOrProvinceName:
          type: string
          description: Bundesland
          example: Berlin
        organization:
          type: string
          description: Institutionsname
        professionOID:
          type: string
          description: 'für LEI: Institution'
        specialization:
          type: string
          description: 'für LEI: Fachgebiet'
        domainID:
          type: string
          description: 'für KTR: Kostenträgerkennung'
        telematikId:
          type: string
          description: eindeutige ID der Institution in der TI
    DirectoryEntryWithCertificates:
      type: object
      properties:
        directoryEntry:
          $ref: '#/components/schemas/DirectoryEntry'
        certificates:
          type: array
          maxItems: 50
          minItems: 0
          items:
            type: string
            format: byte
            description: 'VerSchlüsselungszertifikat der Institution (Format DER, Base64 kodiert)'
      required:
        - directoryEntry
        - certificates
    FindDirectoryRequestDTO:
      type: object
      properties:
        directoryEntry:
          $ref: '#/components/schemas/DirectoryEntry'
      required:
        - directoryEntry
    FindDirectoryResponseDTO:
      type: object
      properties:
        success:
          type: boolean
        statusMessage:
          type: string
        directoryEntries:
          type: array
          items:
            $ref: '#/components/schemas/DirectoryEntryWithCertificates'
      required:
        - success
    ProtocolEntry:
      type: object
      description: Protokolleintrag
      properties:
        eventId:
          type: string
          description: Aufgerufene Operation
        eventDisplayName:
          type: string
          description: Anzeigename der aufgerufenen Operation
        eventDateTime:
          type: string
          format: date-time
          description: 'Datum und Uhrzeit des Zugriffs; date-time notation as defined by RFC 3339, section 5.6, for example, 2017-07-21T17:32:28Z'
        eventResult:
          type: string
          description: Ergebnis der aufgerufenen Operation
        userId:
          type: string
        userName:
          type: string
        objectId:
          type: string
        objectName:
          type: string
        deviceId:
          type: string
          description: Device-ID bei Zugriff durch Versicherte
        providerId:
          type: string
          description: Home-Community-ID des ePA-Aktensystems
        providerName:
          type: string
          description: Name des Anbieters ePA-Aktensystem
      required:
        - eventId
        - eventDisplayName
        - eventDateTime
        - eventResult
        - userId
        - userName
        - providerId
        - providerName
    ProtocolResponseDTO:
      type: object
      properties:
        success:
          type: boolean
        statusMessage:
          type: string
        protocolEntries:
          type: array
          items:
            $ref: '#/components/schemas/ProtocolEntry'
      required:
        - success
    ResponseProductInformationDTO:
      type: object
      description: Produktinformation
      properties:
        producerId:
          type: string
          maxLength: 5
          description: Hersteller-ID
        code:
          type: string
          maxLength: 8
          description: Produktkürzel
        version:
          type: string
          maxLength: 12
          description: Produktversion
          example: 1.0.0-0
      required:
        - producerId
        - code
        - version
    UpdateMetadataRequestDTO:
      type: object
      properties:
        documentMetadata:
          $ref: '#/components/schemas/DocumentMetadata'
        newConfidentialityCode:
          type: string
          description: Neue ConfidentialityCode eines Dokumentes oder Folder. Ersetzt die alten Codes.
      required:
        - newConfidentialityCode
    ReplaceDocumentRequestDTO:
      type: object
      properties:
        documentEntryUUID:
          type: string
          description: EntryUUID eines zu ersetzenden Dokumentes
        documentWithMetadata:
          $ref: '#/components/schemas/DocumentWithMetadata'
      required:
        - documentEntryUUID
        - documentWithMetadata

    Account:
      description: "Allgemeine Informationen über den Nutzer und das verwendete bzw. zu verwendende Aktenkonto"
      readOnly: true
      type: object
      required:
        - insurantId
        - accountId
      properties:
        accountId:
          type: string
          minLength: 10
          maxLength: 10
          description: "ID (Typ KVNR) des verwendeten bzw. zu verwendenden Aktenkontos."
          example: "X1234567890"
        insurantId:
          type: string
          minLength: 10
          maxLength: 10
          description: "Versicherten ID (Typ KVNR) des Nutzers."
          example: "X9876543210"
